import{r as p}from"./index-2ffefb19.js";import{e as q}from"./index-11bb6623.js";function T(r){return r===null||typeof r!="object"?{}:Object.keys(r).reduce((e,t)=>{const s=r[t];return s!=null&&s!==!1&&(e[t]=s),e},{})}var je=Object.defineProperty,z=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,G=(r,e,t)=>e in r?je(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$e=(r,e)=>{for(var t in e||(e={}))Ee.call(e,t)&&G(r,t,e[t]);if(z)for(var t of z(e))we.call(e,t)&&G(r,t,e[t]);return r};function ce(r,e){if(e===null||typeof e!="object")return{};const t=$e({},e);return Object.keys(e).forEach(s=>{s.includes(`${String(r)}.`)&&delete t[s]}),t}const ve="__MANTINE_FORM_INDEX__";function J(r,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(r.replace(/[.][0-9]/g,`.${ve}`)):!1:!1}function Q(r,e,t){typeof t.value=="object"&&(t.value=$(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||e==="__proto__"?Object.defineProperty(r,e,t):r[e]=t.value}function $(r){if(typeof r!="object")return r;var e=0,t,s,o,c=Object.prototype.toString.call(r);if(c==="[object Object]"?o=Object.create(r.__proto__||null):c==="[object Array]"?o=Array(r.length):c==="[object Set]"?(o=new Set,r.forEach(function(f){o.add($(f))})):c==="[object Map]"?(o=new Map,r.forEach(function(f,a){o.set($(a),$(f))})):c==="[object Date]"?o=new Date(+r):c==="[object RegExp]"?o=new RegExp(r.source,r.flags):c==="[object DataView]"?o=new r.constructor($(r.buffer)):c==="[object ArrayBuffer]"?o=r.slice(0):c.slice(-6)==="Array]"&&(o=new r.constructor(r)),o){for(s=Object.getOwnPropertySymbols(r);e<s.length;e++)Q(o,s[e],Object.getOwnPropertyDescriptor(r,s[e]));for(e=0,s=Object.getOwnPropertyNames(r);e<s.length;e++)Object.hasOwnProperty.call(o,t=s[e])&&o[t]===r[t]||Q(o,t,Object.getOwnPropertyDescriptor(r,t))}return o||r}function ie(r){return typeof r!="string"?[]:r.split(".")}function D(r,e,t){const s=ie(r);if(s.length===0)return t;const o=$(t);if(s.length===1)return o[s[0]]=e,o;let c=o[s[0]];for(let f=1;f<s.length-1;f+=1){if(c===void 0)return o;c=c[s[f]]}return c[s[s.length-1]]=e,o}function P(r,e){const t=ie(r);if(t.length===0||typeof e!="object"||e===null)return;let s=e[t[0]];for(let o=1;o<t.length&&s!==void 0;o+=1)s=s[t[o]];return s}function U(r){const e=T(r);return{hasErrors:Object.keys(e).length>0,errors:e}}function M(r,e,t="",s={}){return typeof r!="object"||r===null?s:Object.keys(r).reduce((o,c)=>{const f=r[c],a=`${t===""?"":`${t}.`}${c}`,u=P(a,e);let d=!1;return typeof f=="function"&&(o[a]=f(u,e,a)),typeof f=="object"&&Array.isArray(u)&&(d=!0,u.forEach((_,O)=>M(f,e,`${a}.${O}`,o))),typeof f=="object"&&typeof u=="object"&&u!==null&&(d||M(f,e,a,o)),o},s)}function L(r,e){return U(typeof r=="function"?r(e):M(r,e))}function C(r,e,t){if(typeof r!="string")return{hasError:!1,error:null};const s=L(e,t),o=Object.keys(s.errors).find(c=>r.split(".").every((f,a)=>f===c.split(".")[a]));return{hasError:!!o,error:o?s.errors[o]:null}}function Se(r,{from:e,to:t},s){const o=P(r,s);if(!Array.isArray(o))return s;const c=[...o],f=o[e];return c.splice(e,1),c.splice(t,0,f),D(r,c,s)}var he=Object.defineProperty,Y=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,Z=(r,e,t)=>e in r?he(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ce=(r,e)=>{for(var t in e||(e={}))Ie.call(e,t)&&Z(r,t,e[t]);if(Y)for(var t of Y(e))Ae.call(e,t)&&Z(r,t,e[t]);return r};function De(r,{from:e,to:t},s){const o=`${r}.${e}`,c=`${r}.${t}`,f=Ce({},s);return Object.keys(s).every(a=>{let u,d;if(a.startsWith(o)&&(u=a,d=a.replace(o,c)),a.startsWith(c)&&(u=a.replace(c,o),d=a),u&&d){const _=f[u],O=f[d];return O===void 0?delete f[u]:f[u]=O,_===void 0?delete f[d]:f[d]=_,!1}return!0}),f}function Ve(r,e,t){const s=P(r,t);return Array.isArray(s)?D(r,s.filter((o,c)=>c!==e),t):t}var ke=Object.defineProperty,x=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,ee=(r,e,t)=>e in r?ke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fe=(r,e)=>{for(var t in e||(e={}))Ne.call(e,t)&&ee(r,t,e[t]);if(x)for(var t of x(e))Re.call(e,t)&&ee(r,t,e[t]);return r};function re(r,e){const t=r.substring(e.length+1).split(".")[0];return parseInt(t,10)}function te(r,e,t,s){if(e===void 0)return t;const o=`${String(r)}`;let c=t;s===-1&&(c=ce(`${o}.${e}`,c));const f=Fe({},c),a=new Set;return Object.entries(c).filter(([u])=>{if(!u.startsWith(`${o}.`))return!1;const d=re(u,o);return Number.isNaN(d)?!1:d>=e}).forEach(([u,d])=>{const _=re(u,o),O=u.replace(`${o}.${_}`,`${o}.${_+s}`);f[O]=d,a.add(O),a.has(u)||delete f[u]}),f}function Te(r,e,t,s){const o=P(r,s);if(!Array.isArray(o))return s;const c=[...o];return c.splice(typeof t=="number"?t:c.length,0,e),D(r,c,s)}function ne(r,e){const t=Object.keys(r);if(typeof e=="string"){const s=t.filter(o=>o.startsWith(`${e}.`));return r[e]||s.some(o=>r[o])||!1}return t.some(s=>r[s])}function Me(r){return e=>{if(!e)r(e);else if(typeof e=="function")r(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:t}=e;t instanceof HTMLInputElement?t.type==="checkbox"?r(t.checked):r(t.value):(t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&r(t.value)}else r(e)}}var Le=Object.defineProperty,Ke=Object.defineProperties,We=Object.getOwnPropertyDescriptors,oe=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,se=(r,e,t)=>e in r?Le(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,m=(r,e)=>{for(var t in e||(e={}))He.call(e,t)&&se(r,t,e[t]);if(oe)for(var t of oe(e))Be.call(e,t)&&se(r,t,e[t]);return r},F=(r,e)=>Ke(r,We(e));function ze({initialValues:r={},initialErrors:e={},initialDirty:t={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:c=!1,validateInputOnBlur:f=!1,transformValues:a=d=>d,validate:u}={}){const[d,_]=p.useState(s),[O,h]=p.useState(t),[y,j]=p.useState(r),[K,E]=p.useState(T(e)),V=p.useRef(r),k=n=>{V.current=n},W=p.useCallback(()=>_({}),[]),le=n=>{const i=n?m(m({},y),n):y;k(i),h({})},N=p.useCallback(n=>E(i=>T(typeof n=="function"?n(i):n)),[]),R=p.useCallback(()=>E({}),[]),H=p.useCallback(()=>{j(r),R(),k(r),h({}),W()},[]),v=p.useCallback((n,i)=>N(l=>F(m({},l),{[n]:i})),[]),I=p.useCallback(n=>N(i=>{if(typeof n!="string")return i;const l=m({},i);return delete l[n],l}),[]),A=p.useCallback(n=>h(i=>{if(typeof n!="string")return i;const l=ce(n,i);return delete l[n],l}),[]),B=p.useCallback((n,i)=>{const l=J(n,c);A(n),_(b=>F(m({},b),{[n]:!0})),j(b=>{const S=D(n,i,b);if(l){const g=C(n,u,S);g.hasError?v(n,g.error):I(n)}return S}),!l&&o&&v(n,null)},[]),fe=p.useCallback(n=>{j(i=>{const l=typeof n=="function"?n(i):n;return m(m({},i),l)}),o&&R()},[]),ue=p.useCallback((n,i)=>{A(n),j(l=>Se(n,i,l)),E(l=>De(n,i,l))},[]),ae=p.useCallback((n,i)=>{A(n),j(l=>Ve(n,i,l)),E(l=>te(n,i,l,-1))},[]),pe=p.useCallback((n,i,l)=>{A(n),j(b=>Te(n,i,l,b)),E(b=>te(n,l,b,1))},[]),X=p.useCallback(()=>{const n=L(u,y);return E(n.errors),n},[y,u]),de=p.useCallback(n=>{const i=C(n,u,y);return i.hasError?v(n,i.error):I(n),i},[y,u]),ye=(n,{type:i="input",withError:l=!0,withFocus:b=!0}={})=>{const g={onChange:Me(w=>B(n,w))};return l&&(g.error=K[n]),i==="checkbox"?g.checked=P(n,y):g.value=P(n,y),b&&(g.onFocus=()=>_(w=>F(m({},w),{[n]:!0})),g.onBlur=()=>{if(J(n,f)){const w=C(n,u,y);w.hasError?v(n,w.error):I(n)}}),g},be=(n,i)=>l=>{l==null||l.preventDefault();const b=X();b.hasErrors?i==null||i(b.errors,y,l):n==null||n(a(y),l)},_e=n=>a(n||y),Oe=p.useCallback(n=>{n.preventDefault(),H()},[]),ge=n=>{if(n){const l=P(n,O);if(typeof l=="boolean")return l;const b=P(n,y),S=P(n,V.current);return!q(b,S)}return Object.keys(O).length>0?ne(O):!q(y,V.current)},Pe=p.useCallback(n=>ne(d,n),[d]),me=p.useCallback(n=>n?!C(n,u,y).hasError:!L(u,y).hasErrors,[y,u]);return{values:y,errors:K,setValues:fe,setInitialValues:k,setErrors:N,setFieldValue:B,setFieldError:v,clearFieldError:I,clearErrors:R,reset:H,validate:X,validateField:de,reorderListItem:ue,removeListItem:ae,insertListItem:pe,getInputProps:ye,onSubmit:be,onReset:Oe,isDirty:ge,isTouched:Pe,setTouched:_,setDirty:h,resetTouched:W,resetDirty:le,isValid:me,getTransformedValues:_e}}export{ze as u};
